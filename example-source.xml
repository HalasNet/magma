<datasource>

  <valueSets>
    <jpaProvider>
      <entityClass>org.obiba.onyx.core.domain.Interview</entityClass>
      <entityType>Participant</entityType>
      <!--entityClass>org.obiba.onyx.core.domain.Participant</entityClass-->
      <identifierProperty>participant.barcode</identifierProperty>
      <dateProperty>startDate</dateProperty>
    </jpaProvider>
  </valueSets>

  <variables>
    <beanVariableValueSourceProvider>
      <prefix>Participant</prefix>
      <beanClass>org.obiba.onyx.core.domain.Participant</beanClass>
      <properties>
        <string>firstName</string>
        <string>lastName</string>
        <string>appointment.date</string>
        <string>birthDate</string>
      </properties>
      <nameMap>
        <entry key="appointment.date" value="appointmentDate" />
      </nameMap>
    </beanVariableValueSourceProvider>

    <derivedVariableSourceProvider>
      <name>Participant.birthYear</name>
      <source class="datePart">
        <dateSource class="variable">Participant.birthDate</dateSource>
        <part>year</part>
      </source>
    </derivedVariableSourceProvider>
  </variables>

</datasource>
